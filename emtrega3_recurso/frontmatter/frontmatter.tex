% we include the glossary here (frontmatter is included with \input, so this command is as if it was in main.tex)
%\input{frontmatter/glossary} % the command makenoidxglossaries requires that the glossary entries must be defined in the preamble (to be compatible with overleaf)

\frontmatter % Use roman page numbering style (i, ii, iii, iv...) for the pre-content pages

\pagestyle{plain} % Default to the plain heading style until the thesis style is called for the body content

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\maketitlepage

%----------------------------------------------------------------------------------------
%	STATEMENT OF INTEGRITY
%----------------------------------------------------------------------------------------

\begin{soi}

I hereby declare that I have conducted this academic work with integrity.

I have not plagiarised or applied any form of undue use of information or falsification of results along the process leading to its elaboration.

Therefore, the work presented in this document is original and was authored by me, having not been previously used for any other purpose. Artificial Intelligence tools (specifically Large Language Models) were used as assistive tools for literature search, text refinement, and code development assistance. All AI-generated content was reviewed, validated, and integrated by the author with full responsibility for the final output.

I further declare that I have fully acknowledged the Code of Ethical Conduct of P.PORTO.

ISEP, Porto, \today

\end{soi}


%----------------------------------------------------------------------------------------
%	DEDICATION  (optional)
%----------------------------------------------------------------------------------------
%
%\dedicatory{For/Dedicated to/To my\ldots}
\begin{dedicatory}
To my family, for their unwavering support and patience throughout this journey.

To all software engineers striving to build more reliable and secure systems.
\end{dedicatory}

%----------------------------------------------------------------------------------------
%	ABSTRACT PAGE
%----------------------------------------------------------------------------------------

\begin{abstract}

The manual creation of software tests is costly, slow, and difficult to scale when seeking comprehensive coverage of complex applications. This dissertation addresses the problem through automated test generation supported by Multi-Agent Systems (MAS) powered by Large Language Models (LLMs), combining two complementary approaches: learning from existing test examples and observing application behaviour through black-box traffic capture.

The central contribution is the implementation of a modular platform, TestForge, that integrates six specialised agents (Observer, Mapper, Analyser, Generator, Executor, Validator) in a dual-pipeline architecture. The Golden Examples pipeline analyses existing test files using Tree-sitter AST parsing to extract patterns, conventions, and testing strategies, then uses LLM few-shot prompting to generate new tests that go beyond trivial assertions---targeting state integrity, boundary conditions, business logic, and error handling. The Black-Box Observer pipeline captures HTTP traffic from running applications, maps the API surface through endpoint normalisation and schema inference, and generates tests without requiring source code access.

A persistent memory layer, implemented through the Letta framework with local LLM inference (Ollama), enables the system to progressively learn about target applications across sessions. The platform runs entirely locally, ensuring that no application code or test data leaves the user's environment.

Following the PRISMA methodology, a systematic literature review of 55 studies covers MAS architectures for testing, LLM-driven test generation, and security considerations. Experimental evaluation on a Flask CRUD API demonstrates that the Golden Examples pipeline generates insightful tests: of 9 generated tests, 4 found genuine application deficiencies (validation ordering bugs, missing type checks, inconsistent error handling) that were not caught by the 23 original golden tests. The results highlight the potential of combining AST-based pattern extraction with LLM generation for producing high-quality automated tests.

\end{abstract}

\begin{abstractotherlanguage}

A criação manual de testes de software é dispendiosa, lenta e difícil de escalar quando se pretende uma cobertura abrangente de aplicações complexas. Esta dissertação aborda o problema através da geração automatizada de testes suportada por Sistemas Multi-Agente (MAS) alimentados por Modelos de Linguagem de Grande Escala (LLMs), combinando duas abordagens complementares: aprendizagem a partir de exemplos de testes existentes e observação do comportamento da aplicação através de captura de tráfego black-box.

O contributo central é a implementação de uma plataforma modular, TestForge, que integra seis agentes especializados (Observador, Mapeador, Analisador, Gerador, Executor, Validador) numa arquitetura de duplo pipeline. O pipeline de Exemplos Golden analisa ficheiros de teste existentes usando análise AST via Tree-sitter para extrair padrões, convenções e estratégias de teste, utilizando depois prompting few-shot com LLMs para gerar novos testes que vão além de asserções triviais---visando integridade de estado, condições limite, lógica de negócio e tratamento de erros. O pipeline de Observação Black-Box captura tráfego HTTP de aplicações em execução, mapeia a superfície API através de normalização de endpoints e inferência de esquemas, e gera testes sem necessitar de acesso ao código-fonte.

Uma camada de memória persistente, implementada através do framework Letta com inferência LLM local (Ollama), permite ao sistema aprender progressivamente sobre as aplicações alvo entre sessões. A plataforma executa inteiramente de forma local, garantindo que nenhum código ou dados de teste saem do ambiente do utilizador.

Seguindo a metodologia PRISMA, uma revisão sistemática da literatura de 55 estudos cobre arquiteturas MAS para testes, geração de testes baseada em LLMs e considerações de segurança. A avaliação experimental numa API Flask CRUD demonstra que o pipeline de Exemplos Golden gera testes perspicazes: de 9 testes gerados, 4 encontraram deficiências genuínas na aplicação (erros de ordenação de validação, verificações de tipo em falta, tratamento inconsistente de erros) que não foram detetadas pelos 23 testes golden originais. Os resultados evidenciam o potencial da combinação de extração de padrões baseada em AST com geração LLM para a produção de testes automatizados de alta qualidade.

\end{abstractotherlanguage}

%----------------------------------------------------------------------------------------
%	ACKNOWLEDGEMENTS (optional)
%----------------------------------------------------------------------------------------

\begin{acknowledgements}

I would like to express my sincere gratitude to my supervisor, Professor Constantino Martins, for his guidance, expertise, and continuous support throughout this research. His insights into artificial intelligence and software engineering have been invaluable in shaping this work.

I am grateful to the faculty and staff of the Department of Computer Engineering at ISEP for providing an excellent academic environment and the resources necessary to conduct this research.

I would also like to thank my colleagues in the MEIA program for the stimulating discussions and collaborative spirit that enriched my learning experience.

Finally, I extend my deepest appreciation to my family and friends for their understanding, encouragement, and support during the demanding periods of this thesis work.

\end{acknowledgements}

%----------------------------------------------------------------------------------------
%	LIST OF CONTENTS/FIGURES/TABLES PAGES
%----------------------------------------------------------------------------------------

\tableofcontents % Prints the main table of contents

\listoffigures % Prints the list of figures

\listoftables % Prints the list of tables

%\iflanguage{portuguese}{
%\renewcommand{\listalgorithmname}{Lista de Algor\'itmos}
%}
%\listofalgorithms % Prints the list of algorithms (no algorithms in this thesis)
%\addchaptertocentry{\listalgorithmname}


\renewcommand{\lstlistlistingname}{List of Source Code}
\iflanguage{portuguese}{
\renewcommand{\lstlistlistingname}{Lista de C\'odigo}
}
\lstlistoflistings % Prints the list of listings (programming language source code)
\addchaptertocentry{\lstlistlistingname}


%----------------------------------------------------------------------------------------
%	ABBREVIATIONS
%----------------------------------------------------------------------------------------
%\begin{abbreviations}{ll} % Include a list of abbreviations (a table of two columns)
%%\textbf{LAH} & \textbf{L}ist \textbf{A}bbreviations \textbf{H}ere\\
%%\textbf{WSF} & \textbf{W}hat (it) \textbf{S}tands \textbf{F}or\\
%\end{abbreviations}

%----------------------------------------------------------------------------------------
%	SYMBOLS
%----------------------------------------------------------------------------------------

\begin{symbols}{lll} % Include a list of Symbols (a three column table)

$LC$ & Line Coverage & \si{\percent} \\
$BC$ & Branch Coverage & \si{\percent} \\
$MS$ & Mutation Score & \si{\percent} \\
$CR$ & Compilation Rate & \si{\percent} \\
$ER$ & Execution Rate & \si{\percent} \\
$PR$ & Pass Rate & \si{\percent} \\
$AD$ & Assertion Density & assertions/test \\

\addlinespace % Gap to separate evaluation metrics from other symbols

$k$ & Number of generation attempts (pass@k) & -- \\
$n$ & Total number of samples & -- \\
$c$ & Number of correct samples & -- \\

\end{symbols}



%----------------------------------------------------------------------------------------
%	ACRONYMS
%----------------------------------------------------------------------------------------

\newcommand{\listacronymname}{List of Acronyms}
\iflanguage{portuguese}{
\renewcommand{\listacronymname}{Lista de Acr\'onimos}
}

%Use GLS
\glsresetall

%\printglossary[title=\listacronymname,type=\acronymtype,style=long]
\printnoidxglossary[title=\listacronymname,type=\acronymtype,style=long] % command compatible with overleaf

%----------------------------------------------------------------------------------------
%	DONE
%----------------------------------------------------------------------------------------

\mainmatter % Begin numeric (1,2,3...) page numbering
\pagestyle{thesis} % Return the page headers back to the "thesis" style
